import{V as i,i as r,p as a}from"./chunk-Z4PMJ25B.js";var s=class t{streamSubject=new a(null);stream$=this.streamSubject.asObservable();stream=null;constructor(){}startCamera(){return r(this,null,function*(){if(this.stream)return this.stream;if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw console.warn("Camera API not available. This feature requires a Secure Context (HTTPS or localhost)."),new Error("Camera API not available (Secure Context required)");try{let e=yield navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});return this.stream=e,this.streamSubject.next(e),e}catch(e){throw console.error("Error accessing camera:",e),e}})}stopCamera(){this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null,this.streamSubject.next(null))}getStream(){return this.stream}static \u0275fac=function(o){return new(o||t)};static \u0275prov=i({token:t,factory:t.\u0275fac,providedIn:"root"})};export{s as a};
