import{Ba as O,D as F,K as v,Ma as P,Pa as I,Y as L,aa as w,ga as D,la as Q,ua as X,za as T}from"./chunk-APBCXCJV.js";import{a as J,b as K}from"./chunk-2PWV3ZRO.js";import"./chunk-7NMITLUU.js";import{i as j,k as H,l as R,p as q,r as U}from"./chunk-X7Q72NDQ.js";import{$a as W,$b as b,Bb as g,Cb as o,Db as s,Eb as u,Ib as S,Jb as N,Oa as c,Rb as f,Ta as G,Xb as V,_b as m,ac as C,ea as h,eb as x,fa as A,ic as $,jc as M,lc as B,nc as E,vb as y,yc as z}from"./chunk-Z4PMJ25B.js";var Z=(a,i,e)=>({"border-slate-300":a,"border-unrender-purple shadow-[0_0_15px_rgba(16,5,28,0.3)]":i,"border-red-500 shadow-[0_0_15px_rgba(239,68,68,0.5)]":e}),ee=(a,i,e)=>({"text-slate-500":a,"text-unrender-purple":i,"text-red-400":e}),te=(a,i)=>({"bg-green-500":a,"bg-red-500":i});function ne(a,i){if(a&1&&(h(),u(0,"line",34)),a&2){let e,t,n,r,d=f().$implicit,l=f();y("x1",((e=l.getNodeById(d.sourceId))==null?null:e.x)+"%")("y1",((t=l.getNodeById(d.sourceId))==null?null:t.y)+"%")("x2",((n=l.getNodeById(d.targetId))==null?null:n.x)+"%")("y2",((r=l.getNodeById(d.targetId))==null?null:r.y)+"%")}}function ie(a,i){if(a&1&&(h(),o(0,"g"),u(1,"line",32),x(2,ne,1,4,"line",33),s()),a&2){let e,t,n,r,d=i.$implicit,l=f();c(),y("x1",((e=l.getNodeById(d.sourceId))==null?null:e.x)+"%")("y1",((t=l.getNodeById(d.sourceId))==null?null:t.y)+"%")("x2",((n=l.getNodeById(d.targetId))==null?null:n.x)+"%")("y2",((r=l.getNodeById(d.targetId))==null?null:r.y)+"%")("stroke-opacity",.5),c(),g("ngIf",d.active)}}function ae(a,i){if(a&1&&(h(),S(0),u(1,"animate",37),N()),a&2){let e=i.ngIf,t=f().ngIf;c(),y("from",t.x+"%")("to",e.x+"%")}}function re(a,i){if(a&1&&(h(),S(0),x(1,ae,2,2,"ng-container",36),N()),a&2){let e=f().$implicit,t=f();c(),g("ngIf",t.getNodeById(e.path[e.currentStep+1]))}}function oe(a,i){if(a&1&&(h(),o(0,"circle",35),x(1,re,2,1,"ng-container",36),s()),a&2){let e=i.$implicit,t=f();y("fill",e.color),c(),g("ngIf",t.getNodeById(e.path[e.currentStep]))}}function se(a,i){if(a&1&&(h(),u(0,"circle",38)),a&2){let e,t,n=i.$implicit,r=f();y("fill",n.color)("cx",r.getNodeById(n.path[n.currentStep]).x+((((e=r.getNodeById(n.path[n.currentStep+1]))==null?null:e.x)||r.getNodeById(n.path[n.currentStep]).x)-r.getNodeById(n.path[n.currentStep]).x)*(n.progress/100)+"%")("cy",r.getNodeById(n.path[n.currentStep]).y+((((t=r.getNodeById(n.path[n.currentStep+1]))==null?null:t.y)||r.getNodeById(n.path[n.currentStep]).y)-r.getNodeById(n.path[n.currentStep]).y)*(n.progress/100)+"%")}}function le(a,i){if(a&1&&(o(0,"div",39)(1,"div",40),u(2,"fa-icon",41)(3,"div",42),s(),o(4,"div",43)(5,"div",44),m(6),s(),o(7,"div",45),m(8),s()()()),a&2){let e=i.$implicit;V("left",e.x,"%")("top",e.y,"%"),c(),g("ngClass",M(10,Z,e.status==="online"&&e.load<50,e.load>=50,e.status==="warning")),c(),g("icon",e.icon)("ngClass",M(14,ee,e.status==="online",e.load>=50,e.status==="warning")),c(),g("ngClass",$(18,te,e.status==="online",e.status==="warning"||e.status==="offline")),c(3),b(e.name),c(2),b(e.ip)}}var Y=class a{constructor(i){this.cdr=i}faServer=w;faNetworkWired=v;faWifi=P;faDesktop=I;faLaptop=F;faMobileAlt=L;faShieldAlt=T;faGlobe=O;faExchangeAlt=D;faExclamationTriangle=X;faCheckCircle=Q;nodes=[];links=[];packets=[];totalBandwidth=0;activeConnections=0;avgLatency=0;threatsBlocked=0;simulationInterval;animationFrameId;ngOnInit(){this.initializeNetwork(),this.startSimulation()}ngOnDestroy(){this.simulationInterval&&clearInterval(this.simulationInterval),this.animationFrameId&&cancelAnimationFrame(this.animationFrameId)}initializeNetwork(){this.nodes.push({id:"internet",name:"ISP Uplink",type:"internet",status:"online",load:45,x:50,y:5,icon:O,ip:"203.0.113.1"},{id:"firewall",name:"NG Firewall",type:"firewall",status:"online",load:30,x:50,y:15,icon:T,ip:"192.168.1.1"},{id:"core-sw",name:"Core Switch L3",type:"core",status:"online",load:25,x:50,y:25,icon:D,ip:"192.168.1.2"}),this.nodes.push({id:"dist-sw-1",name:"Dist. Server Farm",type:"dist",status:"online",load:15,x:30,y:40,icon:v,ip:"192.168.10.1"},{id:"dist-sw-2",name:"Dist. Office LAN",type:"dist",status:"online",load:40,x:70,y:40,icon:v,ip:"192.168.20.1"}),this.nodes.push({id:"srv-db",name:"Database Cluster",type:"server",status:"online",load:60,x:15,y:60,icon:w,ip:"192.168.10.10"},{id:"srv-app",name:"App Servers",type:"server",status:"online",load:45,x:30,y:60,icon:w,ip:"192.168.10.11"},{id:"srv-backup",name:"Backup NAS",type:"server",status:"online",load:10,x:45,y:60,icon:w,ip:"192.168.10.12"}),this.nodes.push({id:"acc-sw-1",name:"Access SW Floor 1",type:"access",status:"online",load:35,x:60,y:55,icon:v,ip:"192.168.20.2"},{id:"wifi-ap",name:"Wi-Fi Controller",type:"wifi",status:"online",load:55,x:80,y:55,icon:P,ip:"192.168.30.1"}),this.nodes.push({id:"pc-1",name:"Workstation 01",type:"client",status:"online",load:20,x:55,y:75,icon:I,ip:"192.168.20.101"},{id:"pc-2",name:"Workstation 02",type:"client",status:"online",load:15,x:65,y:75,icon:I,ip:"192.168.20.102"},{id:"laptop-1",name:"Laptop User",type:"client",status:"online",load:30,x:75,y:75,icon:F,ip:"192.168.30.50"},{id:"mobile-1",name:"Mobile Device",type:"client",status:"online",load:10,x:85,y:75,icon:L,ip:"192.168.30.51"}),this.createLink("internet","firewall"),this.createLink("firewall","core-sw"),this.createLink("core-sw","dist-sw-1"),this.createLink("core-sw","dist-sw-2"),this.createLink("dist-sw-1","srv-db"),this.createLink("dist-sw-1","srv-app"),this.createLink("dist-sw-1","srv-backup"),this.createLink("dist-sw-2","acc-sw-1"),this.createLink("dist-sw-2","wifi-ap"),this.createLink("acc-sw-1","pc-1"),this.createLink("acc-sw-1","pc-2"),this.createLink("wifi-ap","laptop-1"),this.createLink("wifi-ap","mobile-1")}createLink(i,e){this.links.push({id:`${i}-${e}`,sourceId:i,targetId:e,load:0,active:!1})}startSimulation(){this.simulationInterval=setInterval(()=>{this.generateTraffic(),this.updateStats()},500);let i=()=>{this.updatePackets(),this.animationFrameId=requestAnimationFrame(i)};i()}generateTraffic(){let i=this.nodes.filter(n=>n.type==="client"),e=this.nodes.filter(n=>n.type==="server"),t=this.nodes.find(n=>n.type==="internet");if(Math.random()>.3){let n=i[Math.floor(Math.random()*i.length)],d=Math.random()>.6?t:e[Math.floor(Math.random()*e.length)];if(n&&d){let l=this.calculatePath(n.id,d.id);if(l.length>0){let p=["http","db","stream","voip"],_=p[Math.floor(Math.random()*p.length)],k="#60a5fa";_==="db"&&(k="#facc15"),_==="stream"&&(k="#a78bfa"),_==="voip"&&(k="#4ade80"),this.packets.push({id:Date.now()+Math.random(),path:l,currentStep:0,progress:0,color:k,type:_})}}}}calculatePath(i,e){let t=[{id:i,path:[i]}],n=new Set;for(;t.length>0;){let{id:r,path:d}=t.shift();if(r===e)return d;n.add(r);let l=this.links.filter(p=>p.sourceId===r||p.targetId===r).map(p=>p.sourceId===r?p.targetId:p.sourceId);for(let p of l)n.has(p)||t.push({id:p,path:[...d,p]})}return[]}updatePackets(){for(let e=this.packets.length-1;e>=0;e--){let t=this.packets[e];if(t.progress+=2,t.progress>=100){t.progress=0,t.currentStep++;let n=t.path[t.currentStep],r=this.nodes.find(d=>d.id===n);if(r&&(r.load=Math.min(100,r.load+5),setTimeout(()=>r.load=Math.max(0,r.load-5),500)),t.currentStep>0){let d=t.path[t.currentStep-1],l=this.links.find(p=>p.sourceId===d&&p.targetId===n||p.sourceId===n&&p.targetId===d);l&&(l.load=Math.min(100,l.load+10),l.active=!0,setTimeout(()=>{l.load=Math.max(0,l.load-10),l.active=!1},300))}t.currentStep>=t.path.length-1&&(this.packets.splice(e,1),this.activeConnections++,this.totalBandwidth+=Math.random()*.5)}}this.cdr.detectChanges()}updateStats(){if(this.totalBandwidth=Math.max(0,this.totalBandwidth*.95),this.avgLatency=15+this.totalBandwidth*2+Math.random()*5,Math.random()>.95){this.threatsBlocked++;let i=this.nodes.find(e=>e.id==="firewall");i&&(i.status="warning",setTimeout(()=>i.status="online",1e3))}}getNodeById(i){return this.nodes.find(e=>e.id===i)}static \u0275fac=function(e){return new(e||a)(G(z))};static \u0275cmp=W({type:a,selectors:[["app-network-management"]],decls:58,vars:14,consts:[[1,"w-full","h-full","bg-white","text-slate-700","p-4","rounded-xl","overflow-hidden","flex","flex-col","gap-4","font-sans","border","border-slate-200","shadow-lg"],[1,"flex","justify-between","items-center","border-b","border-slate-200","pb-4"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","bg-unrender-purple","rounded-lg","flex","items-center","justify-center","shadow-lg","shadow-indigo-500/20"],[1,"text-white","text-xl",3,"icon"],[1,"font-bold","text-lg","leading-tight","text-unrender-purple"],[1,"text-xs","text-slate-500","flex","items-center","gap-2"],[1,"w-2","h-2","rounded-full","bg-green-500","animate-pulse"],[1,"flex","gap-6"],[1,"text-right"],[1,"text-[10px]","text-slate-500","uppercase","tracking-wider"],[1,"text-lg","font-mono","font-bold","text-unrender-purple"],[1,"text-lg","font-mono","font-bold","text-green-600"],[1,"text-lg","font-mono","font-bold","text-red-600"],[1,"flex-1","relative","bg-gray-50","rounded-xl","border","border-slate-200","overflow-hidden","shadow-inner"],[1,"absolute","inset-0","opacity-20","pointer-events-none",2,"background-image","linear-gradient(#cbd5e1 1px, transparent 1px), linear-gradient(90deg, #cbd5e1 1px, transparent 1px)","background-size","40px 40px"],[1,"absolute","inset-0","w-full","h-full","pointer-events-none","z-0"],["id","glow","x","-50%","y","-50%","width","200%","height","200%"],["stdDeviation","2","result","coloredBlur"],["in","coloredBlur"],["in","SourceGraphic"],[4,"ngFor","ngForOf"],["r","3","filter","url(#glow)",4,"ngFor","ngForOf"],["r","4",4,"ngFor","ngForOf"],["class","absolute transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center group cursor-pointer z-10",3,"left","top",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","text-xs","text-slate-500","px-2"],[1,"flex","gap-4"],[1,"flex","items-center","gap-1"],[1,"w-2","h-2","rounded-full","bg-blue-400"],[1,"w-2","h-2","rounded-full","bg-yellow-400"],[1,"w-2","h-2","rounded-full","bg-purple-400"],[1,"w-2","h-2","rounded-full","bg-green-400"],["stroke","#cbd5e1","stroke-width","2"],["stroke","#10051c","stroke-width","2","stroke-opacity","0.8","filter","url(#glow)",4,"ngIf"],["stroke","#10051c","stroke-width","2","stroke-opacity","0.8","filter","url(#glow)"],["r","3","filter","url(#glow)"],[4,"ngIf"],["attributeName","cx","dur","0.1s","fill","freeze"],["r","4"],[1,"absolute","transform","-translate-x-1/2","-translate-y-1/2","flex","flex-col","items-center","group","cursor-pointer","z-10"],[1,"w-12","h-12","rounded-full","bg-white","border-2","flex","items-center","justify-center","transition-all","duration-300","relative","shadow-sm",3,"ngClass"],[1,"text-lg","transition-colors",3,"icon","ngClass"],[1,"absolute","-top-1","-right-1","w-3","h-3","rounded-full","border-2","border-white",3,"ngClass"],[1,"mt-2","bg-white/90","backdrop-blur","px-2","py-1","rounded","text-[10px]","font-mono","text-slate-700","border","border-slate-200","opacity-70","group-hover:opacity-100","transition-opacity","text-center","whitespace-nowrap","shadow-sm"],[1,"font-bold"],[1,"text-slate-500"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u(4,"fa-icon",4),s(),o(5,"div")(6,"h2",5),m(7,"Enterprise Network Monitor"),s(),o(8,"div",6),u(9,"span",7),m(10," System Operational "),s()()(),o(11,"div",8)(12,"div",9)(13,"div",10),m(14,"Bandwidth"),s(),o(15,"div",11),m(16),B(17,"number"),s()(),o(18,"div",9)(19,"div",10),m(20,"Latency"),s(),o(21,"div",12),m(22),B(23,"number"),s()(),o(24,"div",9)(25,"div",10),m(26,"Threats"),s(),o(27,"div",13),m(28),s()()()(),o(29,"div",14),u(30,"div",15),h(),o(31,"svg",16)(32,"defs")(33,"filter",17),u(34,"feGaussianBlur",18),o(35,"feMerge"),u(36,"feMergeNode",19)(37,"feMergeNode",20),s()()(),x(38,ie,3,6,"g",21)(39,oe,2,2,"circle",22)(40,se,1,3,"circle",23),s(),x(41,le,9,21,"div",24),s(),A(),o(42,"div",25)(43,"div",26)(44,"div",27),u(45,"span",28),m(46," HTTP"),s(),o(47,"div",27),u(48,"span",29),m(49," Database"),s(),o(50,"div",27),u(51,"span",30),m(52," Stream"),s(),o(53,"div",27),u(54,"span",31),m(55," VoIP"),s()(),o(56,"div"),m(57," Topology: Hierarchical Tree "),s()()()),e&2&&(c(4),g("icon",t.faNetworkWired),c(12),C("",E(17,8,t.totalBandwidth,"1.1-1")," Gbps"),c(6),C("",E(23,11,t.avgLatency,"1.0-0")," ms"),c(6),b(t.threatsBlocked),c(10),g("ngForOf",t.links),c(),g("ngForOf",t.packets),c(),g("ngForOf",t.packets),c(),g("ngForOf",t.nodes))},dependencies:[U,j,H,R,K,J,q],styles:["[_nghost-%COMP%]{display:block;height:100%;width:100%}"]})};export{Y as NetworkManagementComponent};
