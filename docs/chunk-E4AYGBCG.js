import{K as _,Oa as F,Qa as M,ea as T,k as D,la as L,xa as O}from"./chunk-4J375Q2P.js";import{a as E,b as I}from"./chunk-DCTPSYMH.js";import"./chunk-Q7GIVGAV.js";import{i as x,k as y,l as S,p as C,r as A}from"./chunk-75ZOJ57S.js";import{$a as g,Bb as d,Cb as e,Db as n,Eb as s,Oa as o,Pb as f,Xb as h,_b as l,ac as p,eb as m,hc as c,ic as v,mc as b,oc as w}from"./chunk-W6V62TGU.js";var j=()=>[1,2,3,4,5],N=()=>[1,2,3,4],H=a=>({"animate-spin-fast":a});function P(a,t){a&1&&s(0,"div",48)}function G(a,t){if(a&1&&s(0,"div",49),a&2){let i=t.$implicit;h("left",i.x,"%")("top",i.y,"%")("opacity",i.opacity)}}function z(a,t){if(a&1&&s(0,"div",50),a&2){let i=t.$implicit;h("height",i,"%")}}function V(a,t){a&1&&s(0,"div",51)}function $(a,t){a&1&&s(0,"div",52)}var k=class a{faThermometerHalf=T;faTint=L;faFan=F;faLightbulb=_;faDoorOpen=D;faDoorClosed=M;faExclamationTriangle=O;temperature=24.5;humidity=55;fanState=!1;lightState=!1;doorLocked=!0;tempHistory=Array(20).fill(40);humHistory=Array(20).fill(50);logs=[];intervalId;rainIntervalId;waterDrops=[];waterLevel=0;ngOnInit(){this.addLog("SYSTEM","Inicializando m\xF3dulos IoT..."),this.intervalId=setInterval(()=>this.simulateEnvironment(),2e3),this.rainIntervalId=setInterval(()=>{Math.random()>.3&&this.addDrop(Math.random()*100,Math.random()*100)},800),setInterval(()=>{this.waterDrops.length>0&&(this.waterDrops.forEach(t=>t.opacity-=.05),this.waterDrops=this.waterDrops.filter(t=>t.opacity>0),this.waterLevel=Math.max(0,Math.floor(this.waterDrops.length)))},500)}ngOnDestroy(){this.intervalId&&clearInterval(this.intervalId),this.rainIntervalId&&clearInterval(this.rainIntervalId)}addWaterDrop(t){let i=t.currentTarget.getBoundingClientRect(),r=(t.clientX-i.left)/i.width*100,u=(t.clientY-i.top)/i.height*100;this.addDrop(r,u)}addDrop(t,i){this.waterDrops.push({x:t,y:i,opacity:1}),this.waterLevel=this.waterDrops.length,this.waterLevel===1&&this.addLog("SENSOR","Umidade detectada no sensor de chuva"),this.waterLevel>5&&this.addLog("WARNING","ALERTA: Chuva Forte Detectada!")}simulateEnvironment(){let t=(Math.random()-.5)*.5,i=(Math.random()-.5)*2;this.fanState?this.temperature-=.2:this.temperature+=.05,this.lightState&&(this.temperature+=.1),this.temperature+=t,this.humidity+=i,this.temperature=Math.max(18,Math.min(35,this.temperature)),this.humidity=Math.max(30,Math.min(90,this.humidity)),this.tempHistory.push((this.temperature-15)*4),this.tempHistory.shift(),this.humHistory.push(this.humidity),this.humHistory.shift()}toggleFan(){this.fanState=!this.fanState,this.addLog("ACTUATOR",`Ventila\xE7\xE3o ${this.fanState?"LIGADA":"DESLIGADA"}`)}toggleLight(){this.lightState=!this.lightState,this.addLog("ACTUATOR",`Ilumina\xE7\xE3o ${this.lightState?"LIGADA":"DESLIGADA"}`)}toggleDoor(){this.doorLocked=!this.doorLocked,this.addLog("SECURITY",`Solen\xF3ide ${this.doorLocked?"ATIVADO (Trancado)":"DESATIVADO (Aberto)"}`)}addLog(t,i){let r=new Date().toLocaleTimeString();this.logs.unshift({time:r,source:t,message:i}),this.logs.length>20&&this.logs.pop()}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=g({type:a,selectors:[["app-sensors-actuators"]],decls:70,vars:26,consts:[[1,"w-full","h-full","bg-slate-50","rounded-2xl","overflow-y-auto","p-6","font-sans","text-slate-800"],[1,"text-xl","font-bold","mb-6","flex","items-center","gap-2"],[1,"w-2","h-8","bg-unrender-purple","rounded-full"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"bg-white","p-5","rounded-xl","shadow-sm","border","border-slate-100","flex","flex-col","gap-6"],[1,"text-sm","font-bold","text-slate-400","uppercase","tracking-wider"],[1,"border","border-slate-200","rounded-lg","p-4","bg-slate-50"],[1,"flex","justify-between","items-center","mb-2"],[1,"text-xs","font-bold","text-slate-600"],[1,"text-[10px]","px-2","py-0.5","rounded-full","font-bold",3,"ngClass"],[1,"relative","w-full","h-32","bg-green-700","rounded","shadow-inner","overflow-hidden","cursor-pointer","group",3,"click"],[1,"absolute","inset-0","flex","flex-col","justify-between","py-2","px-4","opacity-50","pointer-events-none"],["class","w-full h-1 bg-yellow-500",4,"ngFor","ngForOf"],[1,"absolute","top-0","left-1/2","w-1","h-full","bg-green-800"],["class","absolute w-4 h-4 bg-blue-400 rounded-full shadow-sm opacity-80 transform -translate-x-1/2 -translate-y-1/2 transition-all duration-1000",3,"left","top","opacity",4,"ngFor","ngForOf"],[1,"absolute","inset-0","flex","items-center","justify-center","pointer-events-none","opacity-0","group-hover:opacity-100","transition-opacity"],[1,"bg-black/50","text-white","text-[10px]","px-2","py-1","rounded"],[1,"mt-2","text-[10px]","text-slate-400","text-center"],[1,"flex","items-center","justify-between","p-3","bg-slate-50","rounded-lg","border","border-slate-200","overflow-hidden"],[1,"flex","items-center","gap-3","flex-shrink-0"],[1,"w-10","h-10","rounded-full","bg-orange-100","text-orange-500","flex","items-center","justify-center"],[3,"icon"],[1,"text-xs","text-slate-500"],[1,"font-bold","text-lg"],[1,"flex","gap-0.5","items-end","h-8","overflow-hidden","flex-shrink","min-w-0","max-w-[120px]","sm:max-w-none"],["class","w-1 bg-orange-300 rounded-t-sm flex-shrink-0",3,"height",4,"ngFor","ngForOf"],[1,"border","border-slate-200","rounded-lg","p-4","bg-slate-50","relative","overflow-hidden"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-[10px]","px-3","py-1","rounded","font-bold","transition-colors",3,"click","ngClass"],[1,"flex","items-center","justify-center","h-24","bg-slate-200","rounded","shadow-inner","relative","overflow-hidden"],[1,"flex","items-center","gap-8","sm:gap-16","transition-all","duration-500"],[1,"relative"],[1,"w-20","sm:w-24","h-16","bg-slate-700","rounded","flex","items-center","justify-center","relative","z-10","shadow-lg"],[1,"w-16","sm:w-20","h-12","border-2","border-yellow-600/30","rounded","flex","flex-col","justify-around","px-1"],["class","w-full h-1 bg-yellow-600/50 rounded-full",4,"ngFor","ngForOf"],[1,"h-6","sm:h-8","bg-slate-400","rounded-r","shadow-md","absolute","top-1/2","-translate-y-1/2","z-0","border","border-slate-500","transition-all","duration-300","ease-out"],[1,"absolute","right-2","top-1/2","-translate-y-1/2","w-1.5","h-3","bg-slate-500","rounded-full","opacity-50"],[1,"w-8","h-12","bg-slate-300","border","border-slate-400","rounded","shadow-inner","flex","items-center","pl-1","z-10"],[1,"w-4","h-8","bg-slate-800","rounded-sm","shadow-inner"],[1,"flex","justify-center"],[1,"relative","w-32","h-32","bg-slate-800","rounded-full","border-4","border-slate-700","shadow-xl","flex","items-center","justify-center","overflow-hidden"],[1,"absolute","w-28","h-28","transition-transform","duration-[2s]","ease-linear",3,"ngClass"],[1,"absolute","top-0","left-1/2","-translate-x-1/2","w-4","h-14","bg-slate-600","rounded-full","origin-bottom"],[1,"absolute","top-0","left-1/2","-translate-x-1/2","w-4","h-14","bg-slate-600","rounded-full","origin-bottom","rotate-90"],[1,"absolute","top-0","left-1/2","-translate-x-1/2","w-4","h-14","bg-slate-600","rounded-full","origin-bottom","rotate-180"],[1,"absolute","top-0","left-1/2","-translate-x-1/2","w-4","h-14","bg-slate-600","rounded-full","origin-bottom","-rotate-90"],[1,"absolute","w-8","h-8","bg-slate-900","rounded-full","border-2","border-slate-600","z-10","flex","items-center","justify-center"],["class","w-6 h-6 rounded-full border border-slate-700 border-dashed animate-spin",4,"ngIf"],[1,"w-full","h-1","bg-yellow-500"],[1,"absolute","w-4","h-4","bg-blue-400","rounded-full","shadow-sm","opacity-80","transform","-translate-x-1/2","-translate-y-1/2","transition-all","duration-1000"],[1,"w-1","bg-orange-300","rounded-t-sm","flex-shrink-0"],[1,"w-full","h-1","bg-yellow-600/50","rounded-full"],[1,"w-6","h-6","rounded-full","border","border-slate-700","border-dashed","animate-spin"]],template:function(i,r){i&1&&(e(0,"div",0)(1,"h2",1),s(2,"span",2),l(3," Monitoramento & Controle IoT "),n(),e(4,"div",3)(5,"div",4)(6,"h3",5),l(7,"Sensores (Leitura)"),n(),e(8,"div",6)(9,"div",7)(10,"span",8),l(11,"Sensor de Chuva"),n(),e(12,"span",9),l(13),n()(),e(14,"div",10),f("click",function(R){return r.addWaterDrop(R)}),e(15,"div",11),m(16,P,1,0,"div",12),s(17,"div",13),n(),m(18,G,1,6,"div",14),e(19,"div",15)(20,"span",16),l(21,"Clique para adicionar \xE1gua"),n()()(),e(22,"div",17),l(23),n()(),e(24,"div",18)(25,"div",19)(26,"div",20),s(27,"fa-icon",21),n(),e(28,"div")(29,"div",22),l(30,"Temperatura"),n(),e(31,"div",23),l(32),b(33,"number"),n()()(),e(34,"div",24),m(35,z,1,2,"div",25),n()()(),e(36,"div",4)(37,"h3",5),l(38,"Atuadores (Controle)"),n(),e(39,"div",26)(40,"div",27)(41,"span",8),l(42,"Trava Solen\xF3ide"),n(),e(43,"button",28),f("click",function(){return r.toggleDoor()}),l(44),n()(),e(45,"div",29)(46,"div",30)(47,"div",31)(48,"div",32)(49,"div",33),m(50,V,1,0,"div",34),n()(),e(51,"div",35),s(52,"div",36),n()(),e(53,"div",37),s(54,"div",38),n()()()(),e(55,"div",6)(56,"div",27)(57,"span",8),l(58,"Ventila\xE7\xE3o Ativa"),n(),e(59,"button",28),f("click",function(){return r.toggleFan()}),l(60),n()(),e(61,"div",39)(62,"div",40)(63,"div",41),s(64,"div",42)(65,"div",43)(66,"div",44)(67,"div",45),n(),e(68,"div",46),m(69,$,1,0,"div",47),n()()()()()()()),i&2&&(o(12),d("ngClass",r.waterLevel>3?"bg-red-100 text-red-600":"bg-green-100 text-green-600"),o(),p(" ",r.waterLevel>3?"VAZAMENTO DETECTADO":"SECO"," "),o(3),d("ngForOf",c(22,j)),o(2),d("ngForOf",r.waterDrops),o(5),p("N\xEDvel de \xC1gua: ",r.waterLevel,"%"),o(4),d("icon",r.faThermometerHalf),o(5),p("",w(33,19,r.temperature,"1.1-1"),"\xB0C"),o(3),d("ngForOf",r.tempHistory),o(8),d("ngClass",r.doorLocked?"bg-red-500 text-white":"bg-emerald-500 text-white"),o(),p(" ",r.doorLocked?"DESTRANCAR":"TRANCAR"," "),o(6),d("ngForOf",c(23,N)),o(),h("left",50,"%")("width",r.doorLocked?100:20,"px"),o(8),d("ngClass",r.fanState?"bg-unrender-purple text-white":"bg-slate-300 text-slate-600"),o(),p(" ",r.fanState?"DESLIGAR":"LIGAR"," "),o(3),d("ngClass",v(24,H,r.fanState)),o(6),d("ngIf",r.fanState))},dependencies:[A,x,y,S,I,E,C],styles:[".animate-spin-fast[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin .5s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};export{k as SensorsActuatorsComponent};
