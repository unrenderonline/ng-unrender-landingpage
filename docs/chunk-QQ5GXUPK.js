import{D as I,Ea as re,K as P,Ma as V,P as T,Pa as O,Y as F,aa as A,g as E,na as N,va as ne,x as ie,za as M}from"./chunk-APBCXCJV.js";import{a as ee,b as te}from"./chunk-2PWV3ZRO.js";import"./chunk-7NMITLUU.js";import{i as K,k as Q,l as X,n as Y,r as Z}from"./chunk-X7Q72NDQ.js";import{$a as L,$b as w,Bb as p,Cb as i,Db as n,Eb as f,Lb as D,Oa as a,Pb as y,Rb as g,Ta as G,Xb as j,Yb as R,_b as o,ac as h,ca as _,da as S,ea as x,eb as v,fa as z,gc as W,hc as $,ic as H,lc as q,mc as U,vb as k,yc as J}from"./chunk-Z4PMJ25B.js";var ae=s=>({"border-unrender-purple shadow-indigo-500/30":s}),se=(s,r)=>({"bg-green-500":s,"bg-red-500":r}),le=()=>["pc","laptop","phone"];function ce(s,r){if(s&1&&(x(),i(0,"g"),f(1,"line",27),n()),s&2){let e,t,c,d,l=r.$implicit,m=g();a(),k("x1",((e=m.getDevice(l.sourceId))==null?null:e.x)+"%")("y1",((t=m.getDevice(l.sourceId))==null?null:t.y)+"%")("x2",((c=m.getDevice(l.targetId))==null?null:c.x)+"%")("y2",((d=m.getDevice(l.targetId))==null?null:d.y)+"%")("stroke",l.active?"#10051c":"#cbd5e1")("stroke-width",l.active?3:1)("stroke-dasharray",l.type==="wireless"?"5,5":"none")}}function de(s,r){if(s&1&&(x(),i(0,"g"),f(1,"circle",28),n()),s&2){let e=r.$implicit;a(),k("cx",e.x+"%")("cy",e.y+"%")("fill",e.color)}}function pe(s,r){if(s&1){let e=D();i(0,"div",29),y("click",function(){let c=_(e).$implicit,d=g();return S(d.selectDevice(c))}),i(1,"div",30)(2,"div",31),f(3,"fa-icon",32),n(),i(4,"div",33),o(5),n(),f(6,"div",34),n()()}if(s&2){let e=r.$implicit,t=g();j("left",e.x,"%")("top",e.y,"%"),a(2),p("ngClass",$(12,ae,(t.selectedDevice==null?null:t.selectedDevice.id)===e.id)),a(),R("text-unrender-purple",e.status==="online")("text-slate-400",e.status==="offline"),p("icon",e.icon),a(2),h(" ",e.name," "),a(),p("ngClass",H(14,se,e.status==="online",e.status==="offline"))}}function me(s,r){s&1&&(i(0,"div",52),o(1,"> VPN Tunnel Established"),n())}function ue(s,r){if(s&1){let e=D();i(0,"div",35)(1,"div",36)(2,"h3",37),f(3,"fa-icon",12),o(4),n(),i(5,"button",38),y("click",function(){_(e);let c=g();return S(c.selectedDevice=null)}),o(6,"\xD7"),n()(),i(7,"div",39)(8,"div",40)(9,"span",23),o(10,"Type"),n(),i(11,"span",41),o(12),n()(),i(13,"div",40)(14,"span",23),o(15,"IP Address"),n(),i(16,"span",42),o(17),n()(),i(18,"div",40)(19,"span",23),o(20,"MAC Address"),n(),i(21,"span",43),o(22),n()(),i(23,"div",44)(24,"span",23),o(25,"Status"),n(),i(26,"span",45),o(27),q(28,"uppercase"),n()()(),i(29,"div",46)(30,"div",47),o(31,"Activity Log"),n(),i(32,"div",48)(33,"div",49),o(34,"> System initialized"),n(),i(35,"div",23),o(36,"> Link up (GigabitEthernet0/1)"),n(),i(37,"div",23),o(38,"> DHCP request sent"),n(),i(39,"div",50),o(40),n(),v(41,me,2,0,"div",51),n()()()}if(s&2){let e=g();a(3),p("icon",e.selectedDevice.icon),a(),h(" ",e.selectedDevice.name," "),a(8),w(e.selectedDevice.type),a(5),w(e.selectedDevice.ip),a(5),w(e.selectedDevice.mac),a(4),p("ngClass",e.selectedDevice.status==="online"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),a(),h(" ",U(28,9,e.selectedDevice.status)," "),a(13),h("> IP assigned: ",e.selectedDevice.ip),a(),p("ngIf",e.vpnEnabled&&W(11,le).includes(e.selectedDevice.type))}}var oe=class s{constructor(r){this.cdr=r}faCloud=T;faServer=A;faNetworkWired=P;faWifi=V;faDesktop=O;faLaptop=I;faMobileAlt=F;faShieldAlt=M;faLock=ne;faPhone=N;faPrint=ie;faRandom=re;faHdd=E;devices=[];cables=[];packets=[];vpnEnabled=!0;selectedDevice=null;simulationInterval;animationFrameId;ngOnInit(){this.initializeTopology(),this.startSimulation()}ngOnDestroy(){this.simulationInterval&&clearInterval(this.simulationInterval),this.animationFrameId&&cancelAnimationFrame(this.animationFrameId)}initializeTopology(){this.devices.push({id:"cloud",name:"Internet",type:"cloud",x:50,y:10,icon:T,status:"online",ip:"8.8.8.8",mac:"00:00:00:00:00:00"},{id:"modem",name:"ISP Modem",type:"router",x:50,y:25,icon:E,status:"online",ip:"203.0.113.10",mac:"A1:B2:C3:D4:E5:F6"},{id:"firewall",name:"VPN Gateway",type:"firewall",x:50,y:40,icon:M,status:"online",ip:"192.168.1.1",mac:"AA:BB:CC:DD:EE:FF"}),this.devices.push({id:"switch-core",name:"Core Switch",type:"switch",x:50,y:55,icon:P,status:"online",ip:"192.168.1.2",mac:"11:22:33:44:55:66"}),this.devices.push({id:"server-file",name:"File Server",type:"server",x:20,y:55,icon:A,status:"online",ip:"192.168.1.10",mac:"DD:EE:FF:11:22:33"},{id:"ap-office",name:"Wi-Fi AP",type:"ap",x:80,y:55,icon:V,status:"online",ip:"192.168.1.5",mac:"FF:EE:DD:CC:BB:AA"}),this.devices.push({id:"pc-admin",name:"Admin PC",type:"pc",x:15,y:80,icon:O,status:"online",ip:"192.168.1.101",mac:"00:11:22:33:44:55"},{id:"phone-reception",name:"VoIP Phone",type:"phone",x:35,y:80,icon:N,status:"online",ip:"192.168.1.201",mac:"00:AA:BB:CC:DD:EE"},{id:"laptop-user",name:"User Laptop",type:"pc",x:65,y:80,icon:I,status:"online",ip:"192.168.1.102",mac:"11:22:33:AA:BB:CC"},{id:"mobile-guest",name:"Guest Mobile",type:"phone",x:85,y:80,icon:F,status:"online",ip:"192.168.1.103",mac:"AA:11:BB:22:CC:33"}),this.connect("cloud","modem","fiber"),this.connect("modem","firewall","ethernet"),this.connect("firewall","switch-core","ethernet"),this.connect("switch-core","server-file","ethernet"),this.connect("switch-core","ap-office","ethernet"),this.connect("switch-core","pc-admin","ethernet"),this.connect("switch-core","phone-reception","ethernet"),this.connect("ap-office","laptop-user","wireless"),this.connect("ap-office","mobile-guest","wireless")}connect(r,e,t){this.cables.push({id:`${r}-${e}`,sourceId:r,targetId:e,type:t,active:!1})}startSimulation(){this.simulationInterval=setInterval(()=>{this.generateTraffic()},800);let r=()=>{this.updatePackets(),this.animationFrameId=requestAnimationFrame(r)};r()}generateTraffic(){let r=this.devices.filter(d=>["pc","phone","server"].includes(d.type)),e=r[Math.floor(Math.random()*r.length)],t=[this.getDevice("cloud"),this.getDevice("server-file")],c=t[Math.floor(Math.random()*t.length)];if(e&&c&&e.id!==c.id){let d=this.findPath(e.id,c.id);if(d.length>0){let l=e.type==="phone",m=this.vpnEnabled&&(c.id==="cloud"||e.id==="cloud");this.packets.push({id:Date.now()+Math.random(),sourceId:e.id,targetId:c.id,path:d,currentStep:0,progress:0,type:l?"voice":m?"secure":"data",color:l?"#22c55e":m?"#f59e0b":"#3b82f6",x:e.x,y:e.y})}}}findPath(r,e){let t=[{id:r,path:[r]}],c=new Set;for(;t.length>0;){let{id:d,path:l}=t.shift();if(d===e)return l;c.add(d);let m=this.cables.filter(u=>u.sourceId===d||u.targetId===d).map(u=>u.sourceId===d?u.targetId:u.sourceId);for(let u of m)c.has(u)||t.push({id:u,path:[...l,u]})}return[]}updatePackets(){for(let e=this.packets.length-1;e>=0;e--){let t=this.packets[e];if(t.progress+=1.5,t.progress>=100){if(t.progress=0,t.currentStep++,t.currentStep>0&&t.currentStep<t.path.length){let u=t.path[t.currentStep-1],B=t.path[t.currentStep],C=this.cables.find(b=>b.sourceId===u&&b.targetId===B||b.sourceId===B&&b.targetId===u);C&&(C.active=!0,setTimeout(()=>C.active=!1,200))}if(t.currentStep>=t.path.length-1){this.packets.splice(e,1);continue}}let c=t.path[t.currentStep],d=t.path[t.currentStep+1],l=this.getDevice(c),m=this.getDevice(d);l&&m&&(t.x=l.x+(m.x-l.x)*(t.progress/100),t.y=l.y+(m.y-l.y)*(t.progress/100))}this.cdr.detectChanges()}toggleVpn(){this.vpnEnabled=!this.vpnEnabled}selectDevice(r){this.selectedDevice=r}getDevice(r){return this.devices.find(e=>e.id===r)}static \u0275fac=function(e){return new(e||s)(G(J))};static \u0275cmp=L({type:s,selectors:[["app-physical-network-topology"]],decls:41,vars:8,consts:[[1,"relative","w-full","h-[600px]","bg-white","rounded-xl","overflow-hidden","border","border-slate-200","shadow-lg","font-sans","select-none"],[1,"absolute","inset-0","opacity-30","pointer-events-none",2,"background-image","radial-gradient(#cbd5e1 1px, transparent 1px)","background-size","20px 20px"],[1,"absolute","inset-0","w-full","h-full","pointer-events-none","z-0"],["id","glow","x","-20%","y","-20%","width","140%","height","140%"],["stdDeviation","2","result","blur"],["in","SourceGraphic","in2","blur","operator","over"],[4,"ngFor","ngForOf"],[1,"absolute","inset-0","z-10"],["class","absolute transform -translate-x-1/2 -translate-y-1/2 cursor-pointer group",3,"left","top","click",4,"ngFor","ngForOf"],[1,"absolute","top-4","left-4","z-20","flex","flex-col","gap-4"],[1,"bg-white/90","backdrop-blur","p-4","rounded-lg","border","border-slate-200","shadow-lg","w-64"],[1,"text-slate-800","font-bold","mb-3","flex","items-center","gap-2"],[1,"text-unrender-purple",3,"icon"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-slate-500","text-sm"],[1,"w-12","h-6","rounded-full","transition-colors","duration-300","relative",3,"click","ngClass"],[1,"absolute","top-1","left-1","w-4","h-4","bg-white","rounded-full","transition-transform","duration-300",3,"ngClass"],[1,"text-xs","text-slate-500"],[1,"absolute","top-4","right-4","z-20"],[1,"text-slate-700","text-sm","font-semibold","mb-2"],[1,"space-y-2","text-xs"],[1,"flex","items-center","gap-2"],[1,"w-3","h-3","rounded-full","bg-blue-500"],[1,"text-slate-500"],[1,"w-3","h-3","rounded-full","bg-green-500"],[1,"w-3","h-3","rounded-full","bg-amber-500"],["class","absolute top-48 right-4 z-20 w-72 bg-white/95 backdrop-blur p-5 rounded-lg border border-slate-200 shadow-2xl transform transition-all duration-300",4,"ngIf"],[1,"transition-colors","duration-200"],["r","4","filter","url(#glow)"],[1,"absolute","transform","-translate-x-1/2","-translate-y-1/2","cursor-pointer","group",3,"click"],[1,"relative","flex","flex-col","items-center","justify-center"],[1,"w-12","h-12","rounded-lg","bg-white","border","border-slate-200","flex","items-center","justify-center","shadow-md","group-hover:border-unrender-purple","group-hover:shadow-indigo-500/20","transition-all","duration-300",3,"ngClass"],[1,"text-xl",3,"icon"],[1,"mt-2","px-2","py-1","bg-white/90","rounded","text-xs","text-slate-700","whitespace-nowrap","border","border-slate-200","backdrop-blur-sm","shadow-sm"],[1,"absolute","-top-1","-right-1","w-3","h-3","rounded-full","border-2","border-white",3,"ngClass"],[1,"absolute","top-48","right-4","z-20","w-72","bg-white/95","backdrop-blur","p-5","rounded-lg","border","border-slate-200","shadow-2xl","transform","transition-all","duration-300"],[1,"flex","justify-between","items-start","mb-4"],[1,"text-lg","font-bold","text-slate-800","flex","items-center","gap-2"],[1,"text-slate-400","hover:text-slate-600",3,"click"],[1,"space-y-3","text-sm"],[1,"flex","justify-between","border-b","border-slate-200","pb-2"],[1,"text-slate-700","capitalize"],[1,"text-mono","text-unrender-purple"],[1,"text-mono","text-slate-600"],[1,"flex","justify-between","items-center","pt-1"],[1,"px-2","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"mt-4","pt-4","border-t","border-slate-200"],[1,"text-xs","text-slate-500","mb-2"],[1,"h-24","overflow-y-auto","space-y-1","font-mono","text-xs"],[1,"text-green-600"],[1,"text-unrender-purple"],["class","text-amber-600",4,"ngIf"],[1,"text-amber-600"]],template:function(e,t){e&1&&(i(0,"div",0),f(1,"div",1),x(),i(2,"svg",2)(3,"defs")(4,"filter",3),f(5,"feGaussianBlur",4)(6,"feComposite",5),n()(),v(7,ce,2,7,"g",6)(8,de,2,3,"g",6),n(),z(),i(9,"div",7),v(10,pe,7,17,"div",8),n(),i(11,"div",9)(12,"div",10)(13,"h3",11),f(14,"fa-icon",12),o(15," Network Controls "),n(),i(16,"div",13)(17,"span",14),o(18,"VPN Tunnel"),n(),i(19,"button",15),y("click",function(){return t.toggleVpn()}),f(20,"div",16),n()(),i(21,"div",17),o(22),n()()(),i(23,"div",18)(24,"div",10)(25,"h4",19),o(26,"Traffic Types"),n(),i(27,"div",20)(28,"div",21),f(29,"div",22),i(30,"span",23),o(31,"Standard Data (HTTP/TCP)"),n()(),i(32,"div",21),f(33,"div",24),i(34,"span",23),o(35,"VoIP / Real-time (UDP)"),n()(),i(36,"div",21),f(37,"div",25),i(38,"span",23),o(39,"Encrypted / VPN"),n()()()()(),v(40,ue,42,12,"div",26),n()),e&2&&(a(7),p("ngForOf",t.cables),a(),p("ngForOf",t.packets),a(2),p("ngForOf",t.devices),a(4),p("icon",t.faNetworkWired),a(5),p("ngClass",t.vpnEnabled?"bg-unrender-purple":"bg-gray-300"),a(),p("ngClass",t.vpnEnabled?"translate-x-6":"translate-x-0"),a(2),h(" ",t.vpnEnabled?"Secure Tunnel Active (Encrypted)":"Standard Routing (Cleartext)"," "),a(18),p("ngIf",t.selectedDevice))},dependencies:[Z,K,Q,X,te,ee,Y],styles:["[_nghost-%COMP%]{display:block;width:100%}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1e293b80}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#475569cc;border-radius:2px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#64748b}"]})};export{oe as PhysicalNetworkTopologyComponent};
